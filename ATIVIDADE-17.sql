CREATE DATABASE EMPRESA;

USE EMPRESA;

CREATE TABLE Funcionarios(
    Codigo INT PRIMARY KEY NOT NULL AUTO_INCREMENT, 
    PrimeiroNome VARCHAR(50),
    SegundoNome VARCHAR(50), 
    UltimoNome VARCHAR(50),
    DataNasci DATE, 
    CPF VARCHAR(20), 
    RG VARCHAR(20), 
    Endereco VARCHAR(150), 
    CEP VARCHAR(50),
    Cidade VARCHAR(50), 
    Fone VARCHAR(20), 
    CodigoDepartamento VARCHAR(10),
    Funcao VARCHAR(50), 
    Salario FLOAT
);

CREATE TABLE Departamentos (
    Codigo INT PRIMARY KEY NOT NULL AUTO_INCREMENT, 
    Nome VARCHAR(50),
    Localizacao VARCHAR(50),
    CodigoFuncionarioGerente VARCHAR(50)
);

INSERT INTO FUNCIONARIOS VALUES(NULL,"ROBSON","PINHEIRO","PAIVA","1994-08-01","111.111.111-11","2001010010200","RUA DAS FRONTEIRAS 150","61656-300","FORTALEZA","(85) 9 9229-9229", "10125","DESENVOLVEDOR",7500);

INSERT INTO FUNCIONARIOS VALUES(NULL,"JOAO","JARED","MORIANCUMER","2000-10-15","110.158.123-10","200301211000","RUA DAS ORQUIDEAS 120","61656-400","FORTALEZA","(85) 9 9889-9559", "10123","PROGRAMADOR",4500);

INSERT INTO FUNCIONARIOS VALUES(NULL,"FELINA","COSTA","SOUSA","2002-12-15","811.911.251-20","2012032016982","RUA PEDRO BORGES 300","95687-300","FORTALEZA","(85) 9 8565-9665", "10205","APRENDIZ",900);

INSERT INTO FUNCIONARIOS VALUES(NULL,"MARIA","EDUARDA","COSTA","2012-03-10","596.452.026-00","3025145685960","RUA 23 D MAIO 150","56987-256","FORTALEZA","(85) 9 8565-7854", "10205","APRENDIZ",900);

INSERT INTO FUNCIONARIOS VALUES(NULL,"NIELE","CARNEIRO","SANTOS","1993-08-15","258.852.987-11","0265365914580","RUA DOS OLABAMAS 1150","64585-956","FORTALEZA","(85) 9 9458-9138", "10123","ADMINISTRATIVA",3500);

INSERT INTO FUNCIONARIOS VALUES(NULL,"EMANUEL","MARCONDES","ANDRE","1993-08-15","258.852.987-11","0265365914580","RUA DOS OLABAMAS 1150","64585-956","FORTALEZA","(85) 9 9458-9138", "10123","GERENTE",8698.65);

INSERT INTO FUNCIONARIOS VALUES(NULL,"MARCELO","JANUARIO","BORGES","1993-08-15","258.852.987-11","0265365914580","RUA DOS OLABAMAS 1150","64585-956","FORTALEZA","(85) 9 9458-9138", "10123","GERENTE",9000);

INSERT INTO FUNCIONARIOS VALUES(NULL,"MARIA","JANUARIO","PIERRI","1993-08-15","258.852.987-11","0265365914580","RUA DOS OLABAMAS 1150","64585-956","RECIFE","(85) 9 9458-9138", "10123","TELEFONISTA",9000);

INSERT INTO FUNCIONARIOS VALUES(NULL,"PALOMA","JANUARIO","JANUARIO","1993-08-15","258.852.987-11","0265365914580","RUA DOS OLABAMAS 1150","64585-956","FORTALEZA","(85) 9 9458-9138", "10123","TELEFONISTA",9000);

INSERT INTO DEPARTAMENTOS VALUES(NULL,"TI","FORTALEZA");
INSERT INTO DEPARTAMENTOS VALUES(NULL,"DEPARTAMENTO PESSOAL","FORTALEZA");
INSERT INTO DEPARTAMENTOS VALUES(NULL,"LIMPEZA","FORTALEZA","10252");
INSERT INTO DEPARTAMENTOS VALUES(NULL,"ADMINISTRATIVO","FORTALEZA","10265");
INSERT INTO DEPARTAMENTOS VALUES(NULL,"OPERACIONAL","FORTALEZA","10895");
INSERT INTO DEPARTAMENTOS VALUES(NULL,"GERENCIA","FORTALEZA","10256");

/*1. Listar nome e sobrenome ordenado por sobrenome.*/
SELECT primeiroNome as "Primeiro Nome", ultimoNome as sobrenome FROM Funcionarios ORDER BY ultimoNome ASC;

/*2. Listar todos os campos de funcionários ordenados por cidade.*/
SELECT * FROM Funcionarios ORDER BY CIDADE ASC;

/*3. Liste os funcionários que têm salário superior a R$ 1.000,00 ordenados pelo primeiro nome.*/
SELECT * FROM Funcionarios WHERE SALARIO > 1000 ORDER BY primeiroNome ASC;

/*4. Liste a data de nascimento e o primeiro nome dos funcionários ordenados do mais novo para o mais velho.*/
SELECT DataNasci, primeiroNome FROM FUNCIONARIOS ORDER BY DataNasci ASC;

/*5. Liste o total da folha de pagamento. */

SELECT SUM(SALARIO) FROM Funcionarios;

/*6. Liste a quantidade de funcionários desta empresa.*/
SELECT COUNT(*) FROM Funcionarios;

/*7. Liste o salário médio pago pela empresa.*/
SELECT AVG(SALARIO) FROM Funcionarios;

/*8. Liste os nomes dos funcionários que moram em Recife e que exerçam a função de Telefonista.*/
SELECT primeiroNome FROM Funcionarios
WHERE CIDADE ="RECIFE"
AND FUNCAO = "TELEFONISTA";